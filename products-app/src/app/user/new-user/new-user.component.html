<section>
    <h2>Signup form 1</h2>
    <form [formGroup]="myform" novalidate (ngSubmit)="onSubmit()">
        <pre>Dirty? {{ myform.dirty }}</pre>

        <fieldset formGroupName="name">
            <div class="form-group">
                <label>Name</label>
                <input type="text" class="form-control" formControlName="firstName"   required [ngClass]="{
                  'is-invalid': firstName.invalid && firstName.dirty,
                  'is-valid': firstName.valid && firstName.dirty
                }">
            </div>

            <div class="form-group">
                <label>Last Name</label>
                <input type="text" class="form-control" formControlName="lastName"   required>
            </div>
        </fieldset>

        <div class="form-group">
            <label>Email</label>
            <input type="email" class="form-control" formControlName="email"   required [ngClass]="{
            'is-invalid': myform.controls['email'].invalid && myform.controls['email'].dirty, 
            'is-valid': myform.controls['email'].valid && myform.controls['email'].dirty 
            }">
            <pre>Dirty? {{ myform.controls['email'].dirty }}</pre>
            <pre>Pristine? {{ myform.controls['email'].pristine }}</pre>
            <pre>Touched? {{ myform.controls['email'].touched }}</pre>
            <pre>Valid? {{ myform.controls['email'].valid }}</pre>
        </div>

        <div class="form-group">
            <label>Password</label>
            <input type="password" class="form-control" formControlName="password"   required>
        </div>

        <div class="form-group">
            <label>Language</label>
            <select class="form-control" formControlName="language"  >
                <option value="" disabled selected>Please select a language</option>
                <option value="es">es</option>
                <option value="en">en</option>

            </select>
            <pre>Valid? {{ myform.get('language')?.valid }}</pre>
        </div>

        <div class="form-group">
            <button type="submit" class="btn btn-primary">Submit</button>
        </div>

    </form>
</section>

<section>
    <input type="search" class="form-control" placeholder="Please enter search term" [formControl]="searchField">
    <hr />
    <ul>
        <li *ngFor="let search of searches">{{ search }}</li>
    </ul>

</section>

<section>
    <h2>Signup form 2</h2>
    <form #f="ngForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
            <input class="form-control" [(ngModel)]="model.name" name="name" required placeholder="name">
            <pre>Valid? {{f.form.get('name')?.valid}}</pre>
        </div>
        <div class="form-group">
            <input class="form-control" [(ngModel)]="model.surname" name="surname" required placeholder="surname">
            <pre>Valid? {{f.form.get('surname')?.valid}}</pre>
        </div>
        <div class="form-group">
            <input class="form-control" [(ngModel)]="model.email" name="email" required appEmailvalidator
                placeholder="email" #email="ngModel" [ngClass]="{'is-invalid': email.invalid && (email.dirty || email.touched),
                'is-valid': email.valid && (email.dirty || email.touched)
            }">
            <pre>Valid? {{f.form.get('email')?.valid}}</pre>
            <pre>Dirty? {{f.form.get('email')?.dirty}}</pre>
            <pre>Touched? {{f.form.get('email')?.touched}}</pre>
        </div>
        <div class="form-group">
            <input class="form-control" [(ngModel)]="model.password" name="password" required placeholder="password"
                minlength="8">
            <pre>Valid? {{f.form.get('password')?.valid}}</pre>
        </div>
        <div class="form-group">
            <input class="form-control" [(ngModel)]="model.language" name="language" required minlength="2"
                placeholder="language">
            <pre>Valid? {{f.form.get('language')?.valid}}</pre>
        </div>
        <div class="form-group">
            <button type="submit" class="btn btn-primary" [disabled]="!f.valid">Submit</button>
        </div>        

    </form>
    <pre>{{f.value | json}}</pre>
    <pre>{{f.valid}}</pre>



</section>